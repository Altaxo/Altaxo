<UserControl x:Class="Altaxo.Gui.Data.Sorting.SortingDataColumnsControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Altaxo.Gui.Data.Sorting;assembly=AltaxoBase"
             xmlns:axogcc="clr-namespace:Altaxo.Gui.Common.Converters"
             d:DataContext="{d:DesignInstance Type=local:SortingDataColumnsController}"
             mc:Ignorable="d">
  <Grid>
    <Grid.Resources>
      <ResourceDictionary Source="pack://application:,,,/AltaxoBase.Presentation;component/CommonStyles.xaml" />
    </Grid.Resources>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="4" />
      <ColumnDefinition Width="Auto" />
    </Grid.ColumnDefinitions>

    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="4" />
      <RowDefinition Height="*" />
      <RowDefinition Height="4" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="4" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="4" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>



    <ListView Grid.Row="0"
              Grid.RowSpan="5"
              MinHeight="100"
              ItemsSource="{Binding Columns}">
      <ListView.ItemContainerStyle>
        <Style TargetType="{x:Type ListViewItem}">
          <Setter Property="IsSelected"
                  Value="{Binding IsSelected, Mode=TwoWay}" />
         
        </Style>
      </ListView.ItemContainerStyle>
      <ListView.View>

        <GridView>
          <GridViewColumn Header="Ascending?"
                          Width="100">
            <GridViewColumn.CellTemplate>
              <DataTemplate>
                <CheckBox IsChecked="{Binding IsAscendingOrder, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
              </DataTemplate>
            </GridViewColumn.CellTemplate>
          </GridViewColumn>

          <GridViewColumn Header="Column"
                          DisplayMemberBinding="{Binding Text}"
                          Width="500" />

        </GridView>
      </ListView.View>
    </ListView>

    <Button Grid.Row="0"
            Grid.Column="3"
            Command="{Binding CmdMoveUpSelected}"
            HorizontalAlignment="Left"
            HorizontalContentAlignment="Stretch"
            VerticalContentAlignment="Stretch"
            ToolTip="Move selected items upwards">
      <Viewbox Style="{StaticResource ArrowViewBoxStyle}">
        <Path Style="{StaticResource UpArrowPathStyle}" />
      </Viewbox>
    </Button>

    <Button Grid.Row="4"
            Grid.Column="3"
            Command="{Binding CmdMoveDownSelected}"
            HorizontalAlignment="Left"
            HorizontalContentAlignment="Stretch"
            VerticalContentAlignment="Stretch"
            ToolTip="Move selected items upwards">
      <Viewbox Style="{StaticResource ArrowViewBoxStyle}">
        <Path Style="{StaticResource DownArrowPathStyle}" />
      </Viewbox>
    </Button>

    <StackPanel Grid.Row="6"
                Grid.Column="0"
                Orientation="Horizontal">
      <Label Content="Treat empty elements as:" />
      <RadioButton Content="Lowest"
                   IsChecked="{Binding TreatEmptyElementsAsLowest, Mode=TwoWay}"
                   VerticalAlignment="Center"
                   Margin="0,0,4,0"
                   ToolTip="Empty elements are treated as lower as any non-empty element"
                   />
      <RadioButton Content="Highest"
                   IsChecked="{Binding TreatEmptyElementsAsLowest, Mode=TwoWay, Converter={x:Static axogcc:InverseBooleanConverter.Instance}}"
                   VerticalAlignment="Center"
                   ToolTip="Empty elements are treated as higher as any non-empty element" 
                   />
    </StackPanel>


    <CheckBox Grid.Row="8"
              Grid.Column="0"
              Content="Move only data columns that have the same group number as the property columns"
              IsChecked="{Binding MoveOnlyDataColumnsThatMatchPropertyColumnGroup}"
              Visibility="{Binding MoveOnlyDataColumnsThatMatchPropertyColumnGroupIsVisible, Converter={x:Static axogcc:FalseToVisibilityHiddenConverter.Instance}}"
              ToolTip="If enabled, only data columns that have the same group number as the property columns will be moved during sorting operations." />

  </Grid>
</UserControl>
